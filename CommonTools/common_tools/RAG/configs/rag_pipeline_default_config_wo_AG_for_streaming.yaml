start:
  - parallel_threads:
      - guardrails
      - inference_pipeline_but_generation

guardrails:
  - RAGGuardrails.guardrails_query_analysis

inference_pipeline_but_generation:
  - pre_treatment
  - data_retrieval

pre_treatment:  
  - RAGPreTreatment.query_standalone_from_history
  - RAGPreTreatment.query_rewritting
  #- RAGPreTreatment.query_standalone_rewritten_from_history
  - RAGPreTreatment.analyse_query_for_metadata
  - RAGPreTreatment.metadata_filters_validation_and_correction

data_retrieval:
  - RAGHybridRetrieval.rag_hybrid_retrieval_langchain
