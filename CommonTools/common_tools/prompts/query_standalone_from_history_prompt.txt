## Instructions ##
Analyse la requête de l'utilisateur et met les résultats dans les variables nommées indiquées :

> ajoute une chaîne nommée `question` avec la requête de l'utilisateur fournie `telle quelle`.
> ajoute une chaîne nommée `modified_question` avec une chaine vide en valeur.
 
- Si un historique de conversation est fourni : analyse si cet historique contient des informations contextuelles utiles pour expliciter la requête en cours de l'utilisateur et la rendre indépendante de cet historique. Fait attention que l'utilisateur n'ait pas changé de sujet.
> ajoute un booléen : `has_contextual_info` : La valeur est `true` si ce qui précède est vrai, sinon `false`.

- Réécrit la requête de l'utilisateur, dans la même langue, en supprimant tous les éléments inutiles de la requête, et, si `has_contextual_info` est `true`, en intégrant toutes les informations nécessaires depuis l'historique de la conversation pour contextualiser la requête, et rendre la question autonome. Veille à ce que la requête réécrite reste centrée sur la requête courante de l'utilisateur.
> ajoute une chaîne : `question_with_context` avec comme valeur la question réécrite à partir de la demande ci-dessus, si `has_contextual_info`, sinon attribue-lui une chaîne vide.
Exemple: avec en requête: 'bof, et en compta?' et en historique: 'user: quels sont les formations RNCP en RH',  `question_with_context` vaudra : 'quelles sont les formations RNCP en comptabilité'

// - si le sujet n'est pas explicitement l'un des suivants : ['métier', 'certifieur', 'certification', 'diplôme', 'domaine']

//- Enfin, il va s'agir d'identifier la catégorie de la requête de l'utilisateur. Elle peut appartenir à l'une des catégories suivantes : `salutations`, `fin de conversation`, `à propos de studi (école ou entreprise)`, `à propos d'un emploi`, `à propos de formations`, `à propos de financements`, `autre` (tout ce qui ne peut être classé dans une des catégories précédentes).
//> ajoute une chaîne `question_type` avec la valeur correspondante parmi `[ 'formation', 'salutations', 'fin de conversation', 'école', 'emploi', 'financement', 'autre']`.
- Enfin, identifier la catégorie de la requête 'modified_question'. 
Elle peut appartenir à l'une des catégories suivantes : `salutations`, `fin de conversation`, `autre`
> ajoute une chaîne `question_type` avec la valeur correspondante parmi `[ 'salutations', 'fin', 'autre']`.

## Requête de l'utilisateur  ##
{user_query}

{conversation_history}
